<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE hibernate-mapping PUBLIC '-//Hibernate/Hibernate Mapping DTD 3.0//EN' 'http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd'>
<hibernate-mapping package='au.gov.vic.delwp' default-access='field'>

	<class name='Individual' table='data_contacts' mutable='false' lazy='false'>
		<id name='ID' column='contactid'>
			<generator class='native' />
		</id>
		<property name='Firstname' column='firstname' />
		<property name='Lastname' column='lastname' />
		<property name='Title' column='title' />
		<property name='Position' column='position' />
		<property name='Workphone' column='workphone' />
		<property name='Mobilephone' column='mobilephone' />
		<property name='Faxnumber' column='faxnumber' />
		<property name='Email' column='emailname' />
		<property name='Retired' column='retired' />
		<many-to-one name='OrganisationDetails' class='Organisation' column='organisationid' unique='true' not-null='true' insert='false' update='false' />
	</class>

	<class name='Organisation' table='data_organisations' mutable='false' lazy='false'>
		<id name='ID' column='organisationid'>
			<generator class='native' />
		</id>
		<property name='Name' column='name' />
		<property name='Streetaddress' column='streetaddress' />
		<property name='Postaladdress' column='postaladdress' />
		<property name='City' column='city' />
		<property name='Stateorprovince' column='stateorprovince' />
		<property name='Postalcode' column='postalcode' />
		<property name='Country' column='country' />
		<property name='Type' column='organisationtype' />
		<property name='Stakeholdertype' column='stakeholdertype' />
	</class>

	<class name='Project' table='project' mutable='false'>
		<id name='ID' column='projectid' >
			<generator class='native' />
		</id>
		<property name='Title' column='projecttitle' />
		<property name='Name' column='shortname' />
		<property name='Abstract' column='abstract' />
		<property name='Purpose' column='purpose' />
		<property name='Location' column='location' />
		<property name='LastUpdated' column='metadatacreatedate' />
		<many-to-one name="Availability" entity-name="Availability" column='availabilityid' unique='true'/>
		<many-to-one name="Owner" class="Individual" column='ownerid' unique='false' not-null='true' insert='false' update='false' not-found='ignore'/>
		<many-to-one name="Custodian" class="Individual" column='custodianid' unique='true' not-null='true' insert='false' update='false' not-found='ignore'/>
		<many-to-one name="MetadataAuthor" class="Individual" column='metadataauthorid' unique='true' not-null='true' insert='false' update='false' not-found='ignore'/>
		<one-to-one name="ProjectAcquisitionDetails" class="AcquisitionDetails" cascade="all"/>
    <set name='DatasetDetails'>
      <key column='projectid' />
      <one-to-many class='Dataset' />
    </set>
	</class>

	<class name='Dataset' table='datasetdetails' mutable='false' lazy='false'>
		<id name='ID' column='datasetid' >
			<generator class='native' />
		</id>
		<property name='UUID' column='fileidentifier' />
		<property name='Title' column='datasetname' />
		<property name='ANZLICID' column='anzlicid' />
		<property name='CompressionRatio' column='compressionratio' />
		<property name='VerticalAccuracy' column='verticalaccuracy' />
		<property name='HorizontalAccuracy' column='horizontalaccuracy' />
		<property name='ProcessingLineage' column='processinglineage' />
		<property name='DatasetCompleteness' column='datasetcompleteness' />
		<property name='LogicalConsistency' column='logicalconsistency' />
		<many-to-one name="DatasetType" entity-name="DatasetType" column='datasettypeid' unique='true'/>
		<many-to-one name="DatasetAssembly" entity-name="DatasetAssembly" column='datasetassemblyid' unique='true'/>
		<many-to-one name="EPSG" entity-name="EPSG" column='epsgid' unique='true'/>
		<many-to-one name="DatasetFormat" entity-name="DatasetFormat" column='datasetformatid' unique='true'/>
		<many-to-one name="Tilesize" entity-name="Tilesize" column='tilesizeid' unique='true'/>
		<many-to-one name='ProjectTopic' entity-name="ProjectTopic" column='projecttopicid' unique="true" />
		<many-to-one name='Platform' entity-name="Platform" column='platformid' unique="true" />
		<many-to-one name='QALevel' entity-name="QALevel" column='qalevelid' unique="true" />
		<many-to-one name="Availability" entity-name="Availability" column='availabilityid' unique='true'/>
		<many-to-one name="Lidar" class="LidarDetails" column='datasetid' unique='true' not-null='true' insert='false' update='false' not-found='ignore'/>
		<many-to-one name="Raster" class="RasterDetails" column='datasetid' unique='true' not-null='true' insert='false' update='false' not-found='ignore'/>
		<many-to-one name="Contour" class="ContourDetails" column='datasetid' unique='true' not-null='true' insert='false' update='false' not-found='ignore'/>
		<many-to-one name="ParentProject" class="Project" column='projectid' unique='true' not-null='true' insert='false' update='false' not-found='ignore'/>
  </class>

	<class name='LidarDetails' table='lidardetails' mutable='false' lazy='false'>
		<id name='ID' column='datasetid' >
			<generator class='native'/>
		</id>
		<property name='LidarID' column='lidarid' />
  </class>

	<class name='RasterDetails' table='rasterdetails' mutable='false' lazy='false'>
		<id name='ID' column='datasetid' >
			<generator class='native'/>
		</id>
		<property name='RasterID' column='rasterid' />
  </class>

	<class name='ContourDetails' table='contourdetails' mutable='false' lazy='false'>
		<id name='ID' column='datasetid' >
			<generator class='native'/>
		</id>
		<property name='ContourID' column='contourid' />
  </class>

	<class name='AcquisitionDetails' table='acquisitiondetails' mutable='false' lazy='false'>
		<id name='ID' column='projectid' >
			<generator class='foreign'>
       <param name="property">project</param>
      </generator>
		</id>
		<property name='Program' column='program' />
		<property name='ContractNumber' column='contractnumber' />
		<property name='ScheduleNumber' column='schedulenumber' />
		<property name='Component' column='component' />
		<property name='AcquisitionYear' column='acquisitionyear' />
    <one-to-one name="project" constrained="true" class="Project" /> 
    <!--
		<many-to-one name="Supplier" class="Individual" column='supplierid' unique='true' not-null='true' insert='false' update='false' not-found='ignore'/>
-->
		<many-to-one name='AcquisitionMethod' entity-name="AcquisitionMethod" column='acquisitionmethodid' />
  </class>

	<class entity-name='Availability' name='IDnText' table='rt_availability' lazy='false' mutable='false' >
		<id name='ID' column='availabilityid'>
			<generator class='native' />
		</id>
		<property name='Text' column='description' />
	</class>

	<class entity-name='ProjectTopic' name='IDnText' table='rt_projecttopic' lazy='false' mutable='false' >
		<id name='ID' column='projecttopicid'>
			<generator class='native' />
		</id>
		<property name='Text' column='description' />
	</class>
	
	<class entity-name='DatasetType' name='IDnText' table='rt_datasettype' lazy='false' mutable='false' >
		<id name='ID' column='datasettypeid'>
			<generator class='native' />
		</id>
		<property name='Text' column='description' />
	</class>
	
	<class entity-name='DatasetAssembly' name='IDnText' table='rt_datasetassemblytype' lazy='false' mutable='false' >
		<id name='ID' column='datasetassemblyid'>
			<generator class='native' />
		</id>
		<property name='Text' column='description' />
	</class>
	
	<class entity-name='EPSG' name='IDnText' table='rt_epsg' lazy='false' mutable='false' >
		<id name='ID' column='epsgid'>
			<generator class='native' />
		</id>
		<property name='Text' column='title' />
	</class>
	
	<class entity-name='DatasetFormat' name='IDnText' table='rt_datasetformat' lazy='false' mutable='false' >
		<id name='ID' column='datasetformatid'>
			<generator class='native' />
		</id>
		<property name='Text' column='description' />
	</class>
	
	<class entity-name='Tilesize' name='IDnText' table='rt_tilesize' lazy='false' mutable='false' >
		<id name='ID' column='tilesizeid'>
			<generator class='native' />
		</id>
		<property name='Text' column='description' />
	</class>
	
	<class entity-name='Platform' name='IDnText' table='rt_platform' lazy='false' mutable='false' >
		<id name='ID' column='platformid'>
			<generator class='native' />
		</id>
		<property name='Text' column='description' />
	</class>

	<class entity-name='QALevel' name='IDnText' table='rt_qalevel' lazy='false' mutable='false' >
		<id name='ID' column='qalevelid'>
			<generator class='native' />
		</id>
		<property name='Text' column='description' />
	</class>

  <class entity-name='AcquisitionMethod' name='IDnText' table='rt_acquisitionmethod' lazy='false' mutable='false' >
		<id name='ID' column='acquisitionmethodid'>
			<generator class='native' />
		</id>
		<property name='Text' column='description' />
	</class>
</hibernate-mapping>
